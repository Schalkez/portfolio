---
import About from "$components/About/About.astro";
import BlogLatest from "$components/Blog/BlogLatest.astro";
import Contact from "$components/Contact/Contact.astro";
import Footer from "$components/Footer.astro";
import PlanetScene from "$components/Hero/3D/PlanetScene.svelte";
import Hero from "$components/Hero/Hero.svelte";
import Learning from "$components/Learning/Learning.svelte";
import Navbar from "$components/Navigation/Navbar.svelte";
import Projects from "$components/Projects/Projects.astro";
import BaseLayout from "$layouts/BaseLayout.astro";
import { getLangFromUrl, useTranslations } from "src/i18n/ui";
import { getFeaturedProjects } from "src/utils";

const _projects = await getFeaturedProjects();
const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);
---

<BaseLayout>
  <Navbar client:load lang={lang} />

  <PlanetScene client:visible />

  <Hero client:load lang={lang} />

  <About lang={lang} />

  <Projects projects={_projects} lang={lang} />

  <BlogLatest lang={lang} />

  <Learning client:visible lang={lang} />

  <Contact lang={lang} />

  <Footer lang={lang} />
</BaseLayout>
